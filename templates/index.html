<!DOCTYPE html>
<html>
<head>
  <title>Medical Entity Recognition</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  <!-- <link rel="stylesheet" href="style.css"> -->
</head>
<style>
 body {
  margin: 0;
        padding: 0;
        height: 100vh;
  background-image: url({{url_for('static',filename='image/lightone.jpg')}});
  background-repeat: no-repeat;
  backdrop-filter:blur(4px);
  background-size:cover;
}
#video-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
    }

    #background-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .front_img {
        margin-top: -33%;
        text-align: right;
        width: 95%;
    }

    
    .marquee-container {
    position: relative;
    width: 100%;
    height: 50px;
    overflow: hidden;
  }

  .marquee {
    position: absolute;
    top: 0;
    left: 0;
    white-space: nowrap;
    animation: marqueeAnimation 8s linear forwards;
  }

  @keyframes marqueeAnimation {
    0% {
      transform: translateX(-100%);
    }
    50% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
#logout{
  font-size: 14px 4px;
 
}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<body>
  <!-- <div id="video-container">
    <video id="background-video" autoplay muted loop>
        <source src="{{ url_for('static', filename='videos/backvid.mp4') }}">
    </video> -->
</div>
  <script src="my.js"></script>
  <header>
    <nav class="navbar navbar-expand-lg navbar-dark shadow-5-strong">
      <div class="container-fluid">
       
        <a class="navbar-brand" href="{{ url_for('index') }}">
          <img src="{{ url_for('static', filename='image/logo_-_Copy-removebg-preview.png') }}" alt="Logo" height="40">
        </a>        
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
     
    
        <div class="collapse navbar-collapse" id="navbarNav" style="position: absolute; right:0">
        
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="{{ url_for('index') }}">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="/search">Search</a>
            </li>
            
            <li class="nav-item" id="loginLogout">
              {% if session['username'] %}
              <div style="display: flex;">
                  <a class="nav-link active" href="#" id="userLink"><i class="icon fas fa-user"></i> {{ session['username'] }}</a>
                  <a id="logout" class="nav-link active" href="/logout"><i class="fas fa-sign-out-alt"></i>Logout</a></div>
              {% else %}
                  <a class="nav-link active" href="/login" id="loginLink">Login</a>
              {% endif %}
          </li>
          </ul>
        </div>
      </div>
      
    </nav>
  </header>  
  <div class="marquee-container">
    <div class="marquee">
      <span id="centerText"><h2>Total Papers Published by Year</h2></span>
</div>
  </div>
  <div class="progress">
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2000')">2000</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #007bff;" data-year="2018"
    onClick="showarticle('2001')">2001</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #ffc107;" data-year="2018"
    onClick="showarticle('2002')">2002</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #dc3545;" data-year="2018"
    onClick="showarticle('2003')">2003</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2004')">2004</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #007bff;" data-year="2018"
    onClick="showarticle('2005')">2005</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #ffc107;" data-year="2018"
    onClick="showarticle('2006')">2006</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #dc3545;" data-year="2018"
    onClick="showarticle('2007')">2007</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2008')">2008</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2009')">2009</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #007bff;" data-year="2018"
    onClick="showarticle('2010')">2010</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #ffc107;" data-year="2018"
    onClick="showarticle('2011')">2011</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #dc3545;" data-year="2018"
    onClick="showarticle('2012')">2012</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2013')">2013</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2014')">2014</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #007bff;" data-year="2018"
    onClick="showarticle('2015')">2015</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #ffc107;" data-year="2018"
    onClick="showarticle('2016')">2016</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #dc3545;" data-year="2018"
    onClick="showarticle('2017')">2017</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #dc3545;" data-year="2018"
    onClick="showarticle('2018')">2018</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2018')">2019</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #17a2b8;" data-year="2018"
    onClick="showarticle('2020')">2020</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #007bff;" data-year="2018"
    onClick="showarticle('2021')">2021</a>
    <a href="#" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" style="width: 25%; background-color: #ffc107;" data-year="2018"
    onClick="showarticle('2022')">2022</a>
    
  </div>
  <div class="container">
  
    <div class="row">
      <div class="col-md-6">
        <div class="card bg-info">
          <div class="cards1"> 
          <div class="card-body">
            
            <h4 class="card-title text-white">Total Papers</h4>
            <p class="card-text text-white" id="articlest">{{total_articles}}</p>
          
        </div>
      </div></div>
      </div>
      
      <div class="col-md-6">
        <div class="card bg-primary">
          <div class="cards1"> 
          <div class="card-body">
          
            <h4 class="card-title text-white">Total Authors</h4>
            <p class="card-text text-white">{{num_authors}}</p>
         
        </div></div>
      </div>
    </div>
    </div>
  </div> 
  </div>
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Filter Articles By Year</h5>
            <div id="author-box">
              <!-- Author names for the selected year will be displayed here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <div class="front_img">
   
    <img src="{{ url_for('static', filename='image/boxsm-removebg-preview.png') }}" alt="Logo" >
 </div> 
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>
<script>
  var data_dict = {{ data_dict | tojson }};

  function showarticle(year) {
    document.getElementById("author-box").innerHTML="";
    var count = data_dict[year]['count'] || 0;
    var titles = data_dict[year]['titles'] || []
    document.getElementById("articlest").innerHTML = count;
    var list = document.createElement("ol");
    
    // Loop through the titles and create a hyperlink for each one
    for (var i = 0; i < titles.length; i++) {
      var title = titles[i];
      var link = document.createElement("a");
      link.href = '/abstract/'+title;
      link.innerHTML = title;
      //link.onclick = '/abstract/'+title  // Call the fetchAbstract function when the title is clicked
      
      var item = document.createElement("li");
      item.appendChild(link);
      list.appendChild(item);
    }
    
    document.getElementById("author-box").appendChild(list);
  }


//jhfsdjhdfjgfd
document.addEventListener("DOMContentLoaded", function() {
  const marquee = document.querySelector(".marquee");
  const movingText = document.getElementById("movingText");

  marquee.addEventListener("animationend", function() {
    movingText.style.animationPlayState = "paused";
  });
});


</script>
<div id="title-box">
  <ol>
  {% for title in titles %}
    <li><a href="{{url_for('abstract', title=author)}}" onclick="fetchAbstract('{{ title }}');">{{ title }}</a></li>
  {% endfor %}
  </ol>
</div>
</html>